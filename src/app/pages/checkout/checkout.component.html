<processing-indicator *ngIf="isLoading"></processing-indicator>
<div class="header">
    <span class="spacer"></span>
    <h3>Checkout</h3>
    <span class="spacer"></span>
    <button *ngIf="isMobile" (click)="back()" class="backIcon" mat-icon-button color="primary">
        <mat-icon>cancel</mat-icon>
    </button>
    <button *ngIf="!isMobile" (click)="back()"  class="backButton" mat-raised-button color="primary">
        BACK
    </button>
</div>
<br>
<div *ngIf="cart && cart.items && cart.items.length" class="container page">
    <div class="row">
        <div class="col-12 col-lg-9">
            <mat-card class="detailsCard">
                <br>
                <h5 class="primaryColor">Contact Details</h5>
                <div class="row">
                    <div class="col-6">
                        <mat-form-field color="accent" class="field-full-width">
                            <mat-label>Email</mat-label>
                            <input *ngIf="user" [(ngModel)]="user.email" matInput>
                            <mat-error *ngIf="emailError">
                                Please enter a valid email address
                            </mat-error>
                        </mat-form-field>
                    </div>
                    <div class="col-6">
                        <mat-form-field color="accent" class="field-full-width">
                            <mat-label>Telephone</mat-label>
                            <span class="primaryColor" matPrefix>+1 &nbsp;</span>
                            <input minlength="10" maxlength="10" *ngIf="user" [(ngModel)]="user.phone" matInput>
                            <mat-icon color="primary" matSuffix>mode_edit</mat-icon>
                        </mat-form-field>
                    </div>
                </div>
                <br>
                <h5 class="primaryColor">Delivery Address</h5>
                <div class="row">
                    <div class="col-12">
                        <mat-form-field class="field-full-width">
                            <mat-label>Name</mat-label>
                            <input [(ngModel)]="user.name" matInput>
                        </mat-form-field>
                    </div>
                    <div class="col-12">
                        <mat-form-field class="field-full-width">
                            <mat-label>Address 1</mat-label>
                            <input [(ngModel)]="user.address.line1" matInput>
                        </mat-form-field>
                    </div>
                    <div class="col-12">
                        <mat-form-field class="field-full-width">
                            <mat-label>Address 2</mat-label>
                            <input [(ngModel)]="user.address.line2" matInput>
                        </mat-form-field>
                    </div>

                    <div class="col-4">
                        <mat-form-field class="field-full-width">
                            <mat-label>City</mat-label>
                            <input [(ngModel)]="user.address.city" matInput>
                        </mat-form-field>
                    </div>
                    <div class="col-4">
                        <mat-form-field class="field-full-width">
                            <mat-label>State</mat-label>
                            <input [(ngModel)]="user.address.state" matInput>
                        </mat-form-field>
                    </div>
                    <div class="col-4">
                        <mat-form-field class="field-full-width">
                            <mat-label>Postal Code</mat-label>
                            <input [(ngModel)]="user.address.pinCode" matInput maxlength="5">
                        </mat-form-field>
                    </div>
                </div>
            </mat-card>
        </div>
        <div class="col-12 col-lg-3">
            <mat-card class="checkoutCard">
                <h5 class="tableHeader cardHeader">Cart Total</h5>
                <div style="margin: 10px;">
                    <div class="header">
                        <h6>Sub Total : </h6>
                        <span class="spacer"></span>
                        <h6>${{cart.amount}}</h6>
                    </div>
                    <div class="header">
                        <h6>Delivery : </h6>
                        <span class="spacer"></span>
                        <h6>FREE</h6>
                    </div>
                    <div class="header">
                        <h6>Total : </h6>
                        <span class="spacer"></span>
                        <h6>${{cart.amount}}</h6>
                    </div>
                </div>
                <mat-card-actions style="padding: 10px;">
                    <button (click)="proceed()" mat-raised-button color="accent"><b>Create Order</b></button>
                </mat-card-actions>
            </mat-card>
        </div>
    </div>
</div>