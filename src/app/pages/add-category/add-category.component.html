<processing-indicator *ngIf="isLoading"></processing-indicator>
<div class="page">
    <div class="header">
        <span class="spacer"></span>
        <h3>Create Category</h3>
        <span class="spacer"></span>
        <button *ngIf="isMobile" (click)="back()" class="backIcon" mat-icon-button color="primary">
            <mat-icon>arrow_back</mat-icon>
        </button>
        <button *ngIf="!isMobile" (click)="back()" class="backButton" mat-raised-button color="primary">
            BACK
        </button>
    </div>
    <div *ngIf="category" class="container page">
        <div class="loginCard">
            <img style="width: 40%;" *ngIf="imageUrl" [src]="imageUrl">
            <button *ngIf="!imageUrl" #file mat-flat-button color="primary">Select Image
                <input (change)="onImageSelect($event)"
                    style="opacity: 0; position:absolute; left:0px; top:0px; width:100%; height:100%;" type="file" />
            </button>
            <mat-form-field class="full-width-input">
                <mat-label>Name</mat-label>
                <input matInput name="name" type="text" [(ngModel)]="category.name" [required]="true">
            </mat-form-field>
            <mat-form-field *ngFor="let filter of category.filters;let i=index" class="full-width-input">
                <mat-label>Filter {{i}}</mat-label>
                <input matInput name="filter{{i}}" type="text" [(ngModel)]="filter.label" [required]="true">
            </mat-form-field>
            <button (click)="addFilter()" mat-raised-button color="primary"><b>Add Filter</b></button>
            <br>
            <br>
            <button (click)="create()" mat-raised-button color="accent"><b>Create</b></button>
            <br>
            <br>
        </div>
    </div>
</div>